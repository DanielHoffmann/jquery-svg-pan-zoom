(function(){var t={}.hasOwnProperty;!function(i){var e,n,o,h,s,a;return n={events:{mouseWheel:!0,doubleClick:!0,drag:!0,dragCursor:"move"},animationTime:300,zoomFactor:.25,panFactor:100,initialViewBox:null,limits:null},o={x:0,y:0,width:1e3,height:1e3},e=function(t,e){var n,o,h,s;return s=i.extend({},t),o=e.x2-e.x,n=e.y2-e.y,s.width>o?s.height>n?o>n?(h=n/s.height,s.height=n,s.width=s.width*h):(h=o/s.width,s.width=o,s.height=s.height*h):s.width=o:s.height>n&&(s.height=n),s.x<e.x&&(s.x=e.x),s.y<e.y&&(s.y=e.y),s.x+s.width>e.x2&&(s.x=e.x2-s.width),s.y+s.height>e.y2&&(s.y=e.y2-s.height),s},a=function(t){var i;return i=t.replace("s+"," ").split(" "),i={x:parseFloat(i[0]),y:parseFloat(i[1]),width:parseFloat(i[2]),height:parseFloat(i[3])}},h=function(t,i){var e,n;return n=t.createSVGPoint(),"touchstart"===i.type||"touchmove"===i.type?null!=i.originalEvent?(n.x=i.originalEvent.touches[0].clientX,n.y=i.originalEvent.touches[0].clientY):(n.x=i.touches[0].clientX,n.y=i.touches[0].clientY):(n.x=i.clientX,n.y=i.clientY),e=t.getScreenCTM(),e=e.inverse(),n=n.matrixTransform(e)},s=function(t){var i,e,n,o,s,a,l;a=this.getViewBox(),t.preventDefault(),t.stopPropagation(),s=h(this.$svg[0],ev),l={x:viewBox.x+viewBox.width/2,y:viewBox.y+viewBox.height/2},o={x:l.x-s.x,y:l.y-s.y},delta>0?this.zoomIn(void 0,0):this.zoomOut(void 0,0),i=h(this.$svg[0],ev),n={x:l.x+(s.x-i.x),y:l.y+(s.y-i.y)},this.setCenter(n.x,n.y,0),e=this.getViewBox(),this.setViewBox(a.x,a.y,a.width,a.height,0),this.setViewBox(e.x,e.y,e.width,e.height)},i.fn.svgPanZoom=function(s){var l;return l=[],this.each(function(){var r,u,x,v,d,c,g,w,y,p;if(d=i.extend(!0,{},n,s),d.$svg=i(this),null==d.animationTime&&(d.animationTime=0),d.$svg[0].setAttribute("preserveAspectRatio","xMidYMid meet"),w=i.extend({},this.viewBox.baseVal),null==d.initialViewBox)w=0===w.x&&0===w.y&&0===w.width&&0===w.height?o:{x:w.x,y:w.y,width:w.width,height:w.height};else if("string"==typeof d.initialViewBox)w=a(d.initialViewBox);else{if("object"!=typeof d.initialViewBox)throw"initialViewBox is of invalid type";null===d.initialViewBox&&(w=d.$svg[0].getAttribute("viewBox"),w=null!=w?a(w):null),null===w&&(w=i.extend({},o,d.initialViewBox))}p=w,d.initialViewBox=i.extend({},p),null==d.limits&&(x=.15*p.width,y=.15*p.height,d.limits={x:p.x-x,y:p.y-y,x2:p.width+x,y2:p.height+y}),d.reset=function(){var t;t=this.initialViewBox,this.setViewBox(t.x,t.y,t.width,t.height,0)},d.getViewBox=function(){return i.extend({},p)},r=i("<div></div>"),d.setViewBox=function(t,i,n,o,h){null==h&&(h=this.animationTime),h>0&&r.css({left:p.x+"px",top:p.y+"px",width:p.width+"px",height:p.height+"px"}),p={x:null!=t?t:p.x,y:null!=i?i:p.y,width:n?n:p.width,height:o?o:p.height},p=e(p,this.limits),h>0?r.stop().animate({left:p.x,top:p.y,width:p.width,height:p.height},{duration:h,easing:"linear",step:function(){var t;t=r,this.$svg[0].setAttribute("viewBox",t.css("left").slice(0,-2)+" "+t.css("top").slice(0,-2)+" "+t.css("width").slice(0,-2)+" "+t.css("height").slice(0,-2))}.bind(this)}):this.$svg[0].setAttribute("viewBox",p.x+" "+p.y+" "+p.width+" "+p.height)},d.panLeft=function(t,i){return null==t&&(t=this.panFactor),null==i&&(i=this.animationTime),this.panRight(-t,i)},d.panRight=function(t,i){null==t&&(t=this.panFactor),null==i&&(i=this.animationTime),this.setViewBox(p.x+t,null,null,null,i)},d.panUp=function(t,i){return null==t&&(t=this.panFactor),null==i&&(i=this.animationTime),this.panDown(-t,i)},d.panDown=function(t,i){null==t&&(t=this.panFactor),null==i&&(i=this.animationTime),this.setViewBox(null,p.y+t,null,null,i)},d.zoomIn=function(t,i){return null==t&&(t=this.zoomFactor),null==i&&(i=this.animationTime),this.zoomOut(-t,i)},d.zoomOut=function(t,i){var e,n,o;null==t&&(t=this.zoomFactor),null==i&&(i=this.animationTime),0!==t&&(0>t?(t=Math.abs(t),o=p.width/(1+t),n=p.height/(1+t)):(o=p.width*(1+t),n=p.height*(1+t)),e={x:p.x+p.width/2,y:p.y+p.height/2},this.setViewBox(e.x-o/2,e.y-o/2,o,n,i))},d.setCenter=function(t,i,e){null==e&&(e=this.animationTime),this.setViewBox(t-p.width/2,i-p.height/2,p.width,p.height,e)};for(v in d)t.call(d,v)&&(g=d[v],"function"==typeof g&&(d.key=g.bind(d)));d.$svg.on("mousewheel",function(t){var i,e,n,o,s,a,l,r;i=t.originalEvent.wheelDeltaY,0!==i&&d.events.mouseWheel===!0&&(l=this.getViewBox(),t.preventDefault(),t.stopPropagation(),a=h(this.$svg[0],t),r={x:p.x+p.width/2,y:p.y+p.height/2},s={x:r.x-a.x,y:r.y-a.y},i>0?this.zoomIn(void 0,0):this.zoomOut(void 0,0),e=h(this.$svg[0],t),o={x:r.x+(a.x-e.x),y:r.y+(a.y-e.y)},this.setCenter(o.x,o.y,0),n=this.getViewBox(),this.setViewBox(l.x,l.y,l.width,l.height,0),this.setViewBox(n.x,n.y,n.width,n.height))}.bind(d)),d.$svg.dblclick(function(t){return d.events.doubleClick===!0?(t.preventDefault(),t.stopPropagation(),this.zoomIn()):void 0}.bind(d)),d.$svg[0].addEventListener("click",function(t){var i;return i?(i=!1,t.stopPropagation(),t.preventDefault()):void 0},!0),u=!1,c=!1,d.$svg.on("mousedown touchstart",function(t){var e,n,o,s,a;u||d.events.drag!==!0||"mousedown"===t.type&&1!==t.which||(u=!0,c=!1,t.preventDefault(),t.stopPropagation(),n=i.extend({},p),e=i(window.document.body),a=e.css("cursor"),null!=this.events.dragCursor&&e.css("cursor",this.events.dragCursor),o=function(i){var e,o;i.preventDefault(),i.stopPropagation(),o=h(this.$svg[0],t),e=h(this.$svg[0],i),Math.sqrt(Math.pow(t.pageX+i.pageX,2)+Math.pow(t.pageY+i.pageY,2))>3&&(c=!0),this.setViewBox(n.x+o.x-e.x,n.y+o.y-e.y,null,null,0)}.bind(d),s=function(t){("mouseout"!==t.type||t.target===t.currentTarget)&&(t.preventDefault(),t.stopPropagation(),e[0].removeEventListener("mousemove",o,!0),e[0].removeEventListener("touchmove",o,!0),e[0].removeEventListener("mouseup",s,!0),e[0].removeEventListener("touchend",s,!0),e[0].removeEventListener("touchcancel",s,!0),e[0].removeEventListener("mouseout",s,!0),null!=this.events.dragCursor&&e.css("cursor",a),u=!1)}.bind(d),e[0].addEventListener("mousemove",o,!0),e[0].addEventListener("touchmove",o,!0),e[0].addEventListener("mouseup",s,!0),e[0].addEventListener("touchend",s,!0),e[0].addEventListener("touchcancel",s,!0),e[0].addEventListener("mouseout",s,!0))}.bind(d)),d.setViewBox(w.x,w.y,w.width,w.height,0),l.push(d)}),0===l.length?null:1===l.length?l[0]:l}}(jQuery)}).call(this);